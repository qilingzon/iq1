import"./index.209Dwdsb.js";import{f as W,b as m,g as C,n as y,t as N,d as V,e as k,c as M,i as B}from"./index._PFTJ3ed.js";import{k as _,r as h,w as O,p as x,o as H,f as Y,g as j,a as X,c as $,d as z,e as P,n as R}from"./runtime-dom.esm-bundler.2fhlOL2h.js";import{_ as T}from"./_plugin-vue_export-helper.x3n3nnut.js";function g(e){var t;const n=m(e);return(t=n?.$el)!=null?t:n}const A=V?window:void 0;function q(...e){let t,n,r,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,l]=e,t=A):[t,n,r,l]=e,!t)return y;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const a=[],c=()=>{a.forEach(i=>i()),a.length=0},o=(i,u,p,d)=>(i.addEventListener(u,p,d),()=>i.removeEventListener(u,p,d)),s=O(()=>[g(t),m(l)],([i,u])=>{if(c(),!i)return;const p=B(u)?{...u}:u;a.push(...n.flatMap(d=>r.map(v=>o(i,d,v,p))))},{immediate:!0,flush:"post"}),f=()=>{s(),c()};return k(f),f}function F(){const e=h(!1);return x()&&H(()=>{e.value=!0}),e}function G(e){const t=F();return _(()=>(t.value,!!e()))}function E(e,t,n={}){const{root:r,rootMargin:l="0px",threshold:a=.1,window:c=A,immediate:o=!0}=n,s=G(()=>c&&"IntersectionObserver"in c),f=_(()=>{const v=m(e);return(Array.isArray(v)?v:[v]).map(g).filter(C)});let i=y;const u=h(o),p=s.value?O(()=>[f.value,g(r),u.value],([v,L])=>{if(i(),!u.value||!v.length)return;const S=new IntersectionObserver(t,{root:g(L),rootMargin:l,threshold:a});v.forEach(I=>I&&S.observe(I)),i=()=>{S.disconnect(),i=y}},{immediate:o,flush:"post"}):y,d=()=>{i(),p(),u.value=!1};return k(d),{isSupported:s,isActive:u,pause(){i(),u.value=!1},resume(){u.value=!0},stop:d}}function b(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const J={[W.mounted](e,t){typeof t.value=="function"?E(e,t.value):E(e,...t.value)}};function D(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:D(n)}}function K(e){const t=e||window.event,n=t.target;return D(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const w=new WeakMap;function Q(e,t=!1){const n=h(t);let r=null,l;O(N(e),o=>{const s=b(m(o));if(s){const f=s;w.get(f)||w.set(f,l),n.value&&(f.style.overflow="hidden")}},{immediate:!0});const a=()=>{const o=b(m(e));!o||n.value||(M&&(r=q(o,"touchmove",s=>{K(s)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},c=()=>{var o;const s=b(m(e));!s||!n.value||(M&&r?.(),s.style.overflow=(o=w.get(s))!=null?o:"",w.delete(s),n.value=!1)};return k(c),_({get(){return n.value},set(o){o?a():c()}})}function U(){let e=!1;const t=h(!1);return(n,r)=>{if(t.value=r.value,e)return;e=!0;const l=Q(n,r.value);O(t,a=>l.value=a)}}U();const Z="10%",ee=Y({__name:"Intersecting",props:{className:{default:""},noSsr:{type:Boolean,default:!1}},setup(e,{expose:t}){t();const n=h(!1),r=h(!1);function l([{isIntersecting:s}]){n.value=s,s&&(r.value=!0)}const a=e,c=_(()=>!(a.noSsr&&!r.value)),o={isVisible:n,rootMargin:Z,firstVisible:r,onIntersectionObserver:l,props:a,show:c,get vIntersectionObserver(){return J}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}});function te(e,t,n,r,l,a){return j((X(),$("div",{class:R(`${n.className||""} ${r.isVisible?"in-screen":"out-of-screen"} ${r.firstVisible?"is-active":"is-inactive"}`)},[r.show?z(e.$slots,"default",{key:0}):P("",!0)],2)),[[r.vIntersectionObserver,[r.onIntersectionObserver,{rootMargin:r.rootMargin}]]])}const ae=T(ee,[["render",te]]);export{ae as default};
