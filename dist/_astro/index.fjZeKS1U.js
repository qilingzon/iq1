import{t as A,a as T,n as k,i as x,b as h,c as I,d as z,e as g}from"./index._PFTJ3ed.js";import{r as d,w as m,k as b,l as N,m as _,p as D,o as H}from"./runtime-dom.esm-bundler.2fhlOL2h.js";function O(e){var t;const n=h(e);return(t=n?.$el)!=null?t:n}const y=z?window:void 0;function S(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=y):[t,n,o,r]=e,!t)return k;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],u=()=>{s.forEach(c=>c()),s.length=0},i=(c,f,v,p)=>(c.addEventListener(f,v,p),()=>c.removeEventListener(f,v,p)),l=m(()=>[O(t),h(r)],([c,f])=>{if(u(),!c)return;const v=x(f)?{...f}:f;s.push(...n.flatMap(p=>o.map(M=>i(c,p,M,v))))},{immediate:!0,flush:"post"}),a=()=>{l(),u()};return g(a),a}function R(){const e=d(!1);return D()&&H(()=>{e.value=!0}),e}function W(e){const t=R();return b(()=>(t.value,!!e()))}function Y(e,t={}){const{window:n=y}=t,o=W(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const s=d(!1),u=a=>{s.value=a.matches},i=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",u):r.removeListener(u))},l=N(()=>{o.value&&(i(),r=n.matchMedia(h(e)),"addEventListener"in r?r.addEventListener("change",u):r.addListener(u),s.value=r.matches)});return g(()=>{l(),i(),r=void 0}),s}function C(e,t,n={}){const{window:o=y,...r}=n;let s;const u=W(()=>o&&"ResizeObserver"in o),i=()=>{s&&(s.disconnect(),s=void 0)},l=b(()=>Array.isArray(e)?e.map(f=>O(f)):[O(e)]),a=m(l,f=>{if(i(),u.value&&o){s=new ResizeObserver(t);for(const v of f)v&&s.observe(v,r)}},{immediate:!0,flush:"post",deep:!0}),c=()=>{i(),a()};return g(c),{isSupported:u,stop:c}}function E(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function L(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:L(n)}}function V(e){const t=e||window.event,n=t.target;return L(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const w=new WeakMap;function F(e,t=!1){const n=d(t);let o=null,r;m(A(e),i=>{const l=E(h(i));if(l){const a=l;w.get(a)||w.set(a,r),n.value&&(a.style.overflow="hidden")}},{immediate:!0});const s=()=>{const i=E(h(e));!i||n.value||(I&&(o=S(i,"touchmove",l=>{V(l)},{passive:!1})),i.style.overflow="hidden",n.value=!0)},u=()=>{var i;const l=E(h(e));!l||!n.value||(I&&o?.(),l.style.overflow=(i=w.get(l))!=null?i:"",w.delete(l),n.value=!1)};return g(u),b({get(){return n.value},set(i){i?s():u()}})}function P(e){const t=d(e?.element),n=d(e?.input),o=d(1);function r(){var s,u;if(!t.value)return;let i="";t.value.style.height="1px",o.value=(s=t.value)==null?void 0:s.scrollHeight,e?.styleTarget?h(e.styleTarget).style.height=`${o.value}px`:i=`${o.value}px`,t.value.style.height=i,(u=e?.onResize)==null||u.call(e)}return m([n,t],()=>_(r),{immediate:!0}),C(t,()=>r()),e?.watch&&m(e.watch,r,{immediate:!0,deep:!0}),{textarea:t,input:n,triggerResize:r}}function Q(e={}){const{window:t=y,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:s=!0}=e,u=d(n),i=d(o),l=()=>{t&&(s?(u.value=t.innerWidth,i.value=t.innerHeight):(u.value=t.document.documentElement.clientWidth,i.value=t.document.documentElement.clientHeight))};if(l(),T(l),S("resize",l,{passive:!0}),r){const a=Y("(orientation: portrait)");m(a,()=>l())}return{width:u,height:i}}export{F as a,P as b,Q as u};
